# CocoParty 视频同步插件

这是一个基于 wxt+vue 开发的浏览器扩展，允许用户在不同的浏览器中同步观看视频。

## 功能

- 在支持的视频网站上创建同步观看房间
- 多人加入房间，共同观看视频
- 支持仅房主控制或所有人控制两种模式
- 自动同步视频播放状态（播放/暂停/跳转）
- 自动重定向到正确的视频页面

## 支持的网站

- 哔哩哔哩 (bilibili.com)
- YouTube (youtube.com)

## 开发指南

### 安装依赖

```bash
pnpm install
```

### 开发模式

```bash
pnpm dev
```

### 构建扩展

```bash
pnpm build
```

### 构建 Firefox 版本

```bash
pnpm build:firefox
```

## 规则说明

1. 通过插件弹出窗口创建房间
2. 可选择是否只允许房主控制视频
3. 加入房间的人，如果不在房主正在观看的视频页面，会自动重定向到对应视频页面
4. 在支持的视频网站上才能创建房间，且只在视频页面中才能实际控制视频

## 技术结构

- 使用 Vue 3 作为 UI 框架
- 使用 WXT 作为浏览器扩展开发工具
- 模块化、低耦合的代码结构
- 可扩展设计，预留 WebSocket 后端接口

## 未来计划

- 添加更多支持的视频网站
- 实现真实的 WebSocket 后端
- 添加聊天功能
- 改进 UI 界面

### 目前 bug

加入房间后 popup 不显示已在房间 但是本身是处于房间了的
